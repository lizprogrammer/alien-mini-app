<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Alien New Year 2026</title>
    
    <!-- CRITICAL: Farcaster Mini App Embed Meta Tag -->
    <meta name="fc:miniapp" content='{"version":"1","imageUrl":"https://alien-mini-app.vercel.app/alien.png","button":{"title":"Get Resolution âœ¨","action":{"type":"launch_miniapp","name":"Alien New Year 2026","url":"https://alien-mini-app.vercel.app","splashImageUrl":"https://alien-mini-app.vercel.app/alien.png","splashBackgroundColor":"#020816"}}}' />
    
    <!-- For backward compatibility -->
    <meta name="fc:frame" content='{"version":"1","imageUrl":"https://alien-mini-app.vercel.app/alien.png","button":{"title":"Get Resolution âœ¨","action":{"type":"launch_frame","name":"Alien New Year 2026","url":"https://alien-mini-app.vercel.app","splashImageUrl":"https://alien-mini-app.vercel.app/alien.png","splashBackgroundColor":"#020816"}}}' />
    
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        background-color: #020816;
        color: #f5f5ff;
        font-family: system-ui, sans-serif;
        text-align: center;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 16px;
      }
      h1 {
        font-size: 1.5rem;
        margin-bottom: 8px;
      }
      p {
        font-size: 0.9rem;
        margin-bottom: 12px;
        opacity: 0.9;
      }
      img {
        max-width: 180px;
        width: 100%;
        margin: 12px auto;
        display: block;
      }
      button {
        background: #27e0a3;
        color: #04101b;
        border: none;
        border-radius: 999px;
        padding: 10px 20px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        margin: 12px auto;
        display: block;
      }
      .card {
        background: #111a2e;
        border-radius: 16px;
        padding: 14px;
        margin: 12px auto 0;
        border: 1px solid rgba(255,255,255,0.1);
        max-width: 400px;
      }
      .card h3 {
        font-size: 1rem;
        line-height: 1.4;
        font-weight: 500;
      }
      
      /* Larger screens */
      @media (min-height: 600px) {
        h1 {
          font-size: 2rem;
          margin-bottom: 12px;
        }
        p {
          font-size: 1rem;
          margin-bottom: 16px;
        }
        img {
          max-width: 240px;
          margin: 16px auto;
        }
        button {
          padding: 12px 24px;
          font-size: 1rem;
          margin: 16px auto;
        }
        .card {
          padding: 16px;
          margin: 16px auto 0;
        }
        .card h3 {
          font-size: 1.1rem;
        }
      }
    </style>
  </head>
  <body>
    <div>
      <h1>ðŸ‘½ Happy New Year 2026</h1>
      <p>Your alien friend beams you a joyful, prosperous resolution.</p>

      <img src="alien.png" alt="Alien" />

      <button onclick="generate()">âœ¨ Give me a 2026 Resolution</button>

      <div id="card" class="card" style="display:none;">
        <h3 id="text"></h3>
      </div>
    </div>

    <!-- CRITICAL: Load Farcaster Mini App SDK -->
    <script type="module">
      import { sdk } from 'https://esm.sh/@farcaster/miniapp-sdk';

      const resolutions = [
        "Say yes to one new adventure each month.",
        "Protect one hour a week for pure joy.",
        "Celebrate tiny wins every Friday.",
        "Choose rest without guilt.",
        "Invest in your future self with love.",
        "Do one bold thing each week.",
        "Create space for abundance to flow.",
        "Speak to yourself with softness.",
        "Let go of one draining habit.",
        "Invite more play into your days."
      ];

      window.generate = function() {
        const r = resolutions[Math.floor(Math.random() * resolutions.length)];
        document.getElementById("text").textContent = r;
        document.getElementById("card").style.display = "block";
      }

      // CRITICAL: Tell Farcaster the app is ready and hide splash screen
      // Without this call, users will see an infinite loading screen!
      sdk.actions.ready();
    </script>
  </body>
</html>
